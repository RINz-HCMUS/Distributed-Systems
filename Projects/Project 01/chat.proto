syntax = "proto3";

package chat;

message CommandRequest {
  string username = 1;
  string command = 2;
}

message CommandReply {
  string message = 1;
}

message ChatMessage {
  string timestamp = 1;
  string type = 2;
  string sender = 3;
  string receiver = 4;
  string group = 5;
  string msg = 6;
}

message ConnectRequest {
  string username = 1;
}

service ChatService {
  rpc SendCommand (CommandRequest) returns (CommandReply);
  rpc StreamMessages (ConnectRequest) returns (stream ChatMessage);
}
